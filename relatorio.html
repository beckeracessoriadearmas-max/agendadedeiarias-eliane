<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>RelatÃ³rio</title>
<link rel="stylesheet" href="estilo.css">

<style>
@media print {
    button {
        display: none;
    }
}
</style>
</head>

<body>

<h1>ğŸ“Š RelatÃ³rio Mensal</h1>

<div id="resumo"></div>
<div id="lista"></div>

<button onclick="gerarPDF()">ğŸ“„ Gerar PDF</button>
<button onclick="logout()">Sair</button>
<br><br>

<a href="dashboard.html"><button>â¬… Voltar</button></a>

<script>
const diarias = JSON.parse(localStorage.getItem("diarias")) || [];
const gastos = JSON.parse(localStorage.getItem("gastos")) || [];

let totalDiarias = 0;
let totalGastos = 0;

diarias.forEach(d => totalDiarias += Number(d.valor));
gastos.forEach(g => totalGastos += Number(g.valor));

document.getElementById("resumo").innerHTML = `
    <p>ğŸ§¹ DiÃ¡rias realizadas: ${diarias.length}</p>
    <p>ğŸ’° Total ganho: R$ ${totalDiarias.toFixed(2)}</p>
    <p>ğŸ“‰ Gastos: R$ ${totalGastos.toFixed(2)}</p>
    <p>ğŸ“ˆ Lucro: R$ ${(totalDiarias - totalGastos).toFixed(2)}</p>
`;

let html = "<h3>ğŸ“‹ Detalhamento</h3>";

diarias.forEach(d => {
    html += `
        <div class="diaria">
            ğŸ“… ${d.data}<br>
            â° ${d.horario}<br>
            ğŸ‘¤ ${d.cliente}<br>
            ğŸ’° R$ ${d.valor}
        </div>
        <hr>
    `;
});

document.getElementById("lista").innerHTML = html;

</script>


</body>
</html>
